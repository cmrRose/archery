<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Wi5 Connect Coverage</title>
  
  <!-- Load Leaflet from a CDN -->
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
  
  <!-- A Leaflet plugin by https://github.com/perliedman. We need this for the address search -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
  <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
  
 
  <style>
    
    
    
    /* Make the map fill the entire page */
    #map {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
        }
    
    .legend{
      background-color: white;
      border: 1px grey solid;
      border-radius: 4px;
      padding: 3px 5px;
      line-height: 18px;
    }

    .legend i { /* legend swatches */
        width: 18px;
        height: 18px;
        float: left;
        margin-right: 8px;
    }
    
  </style>
</head>
<body>
  <div id="map"></div>
  
  <script>
    /* JAVASCRIPT */
      /* ~~~~~~~~ Map ~~~~~~~~ */
    //create a map, center it, and set the zoom level. 
    //set zoomcontrol to false because we will add it in a different corner. 
    var map = L.map('map', {zoomControl:false}).setView([45.06698,-92.810302], 12);

    /* ~~~~~~~~ Map Layers ~~~~~~~~ */
    //basemap from Open Street Map
    var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'
      }).addTo(map);
    
    /* ~~~~~~~~ Zoom Control ~~~~~~~~ */
    //place a zoom control in the top right: 
    new L.Control.Zoom({position: 'topright'}).addTo(map);


    /* ~~~~~~~~ Address Search ~~~~~~~~ */
    // create the geocoding (address search) control and add it to the map
    L.Control.geocoder({collapsed: false, position: "topleft", showResultIcons: true}).addTo(map);


    /*~~~~~~ base stations points ~~~~~~~*/
    //custom icon with the Wi5 logo
    var myIcon = new L.Icon({
      
        iconSize: [34, 45],
        iconAnchor: [19, 45],
        popupAnchor: [0, -45],
        shadowUrl: 'markers-shadow@2x.png',
        shadowSize: [36, 16],
        shadowAnchor: [14, 15]
    });
    
    //locations in geojson format
    var schoolsdata = {
"type": "FeatureCollection",
"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
                                                                                
"features": [
{ "type": "Feature", "properties": { "Place": "CENTRAL MIDDLE SCHOOL , WHITE BEAR LAKE, MN, UNITED STATES", "Lat": 45.0891448, "Lon": -93.0130547 }, "geometry": { "type": "Point", "coordinates": [ -93.0130547, 45.0891448 ] } },
{ "type": "Feature", "properties": { "Place": "CHAMPLIN PARK HIGH SCHOOL , CHAMPLIN, MN, UNITED STATES", "Lat": 45.176914, "Lon": -93.397481 }, "geometry": { "type": "Point", "coordinates": [ -93.397481, 45.176914 ] } },
{ "type": "Feature", "properties": { "Place": "CHANHASSEN HS , CHANHASSEN, MN, UNITED STATES", "Lat": 44.8460908, "Lon": -93.5754302 }, "geometry": { "type": "Point", "coordinates": [ -93.5754302, 44.8460908 ] } },
{ "type": "Feature", "properties": { "Place": "CHASKA HS , CHASKA, MN, UNITED STATES", "Lat": 44.8240712, "Lon": -93.58992694 }, "geometry": { "type": "Point", "coordinates": [ -93.58992694, 44.8240712 ] } },
{ "type": "Feature", "properties": { "Place": "CHASKA MIDDLE SCHOOL WEST , CHASKA, MN, UNITED STATES", "Lat": 44.80743655, "Lon": -93.60029121 }, "geometry": { "type": "Point", "coordinates": [ -93.60029121, 44.80743655 ] } },
{ "type": "Feature", "properties": { "Place": "COMMUNITY CHRISTIAN SCHOOL , MILACA, MN, UNITED STATES", "Lat": 45.728933, "Lon": -93.699267 }, "geometry": { "type": "Point", "coordinates": [ -93.699267, 45.728933 ] } },
{ "type": "Feature", "properties": { "Place": "EDINA COMMUNITY ED , EDINA, MN, UNITED STATES", "Lat": 44.912544, "Lon": -93.338569 }, "geometry": { "type": "Point", "coordinates": [ -93.338569, 44.912544 ] } },
{ "type": "Feature", "properties": { "Place": "FARIBAULT MIDDLE SCHOOL , FARIBAULT, MN, UNITED STATES", "Lat": 44.27095995, "Lon": -93.27660761 }, "geometry": { "type": "Point", "coordinates": [ -93.27660761, 44.27095995 ] } },
{ "type": "Feature", "properties": { "Place": "FOLEY FALCONS ARCHERY , FOLEY, MN, UNITED STATES", "Lat": 44.064379, "Lon": -92.338849 }, "geometry": { "type": "Point", "coordinates": [ -92.338849, 44.064379 ] } },
{ "type": "Feature", "properties": { "Place": "JACKSON MIDDLE SCHOOL , CHAMPLIN, MN, UNITED STATES", "Lat": 45.15449425, "Lon": -93.3541035 }, "geometry": { "type": "Point", "coordinates": [ -93.3541035, 45.15449425 ] } },
{ "type": "Feature", "properties": { "Place": "LAKES INTERNATIONAL LANGUAGE ACADEMY , FOREST LAKE, MN, UNITED STATES", "Lat": 48.189, "Lon": -93.805469 }, "geometry": { "type": "Point", "coordinates": [ -93.805469, 48.189 ] } },
{ "type": "Feature", "properties": { "Place": "LINCOLN ELEMENTARY , WHITE BEAR LAKE, MN, UNITED STATES", "Lat": 45.07619, "Lon": -93.018543 }, "geometry": { "type": "Point", "coordinates": [ -93.018543, 45.07619 ] } },
{ "type": "Feature", "properties": { "Place": "MAHTOMEDI HIGH SCHOOL , MAHTOMEDI, MN, UNITED STATES", "Lat": 45.057759, "Lon": -92.95886 }, "geometry": { "type": "Point", "coordinates": [ -92.95886, 45.057759 ] } },
{ "type": "Feature", "properties": { "Place": "MAHTOMEDI MIDDLE SCHOOL , MAHTOMEDI, MN, UNITED STATES", "Lat": 45.057759, "Lon": -92.95886 }, "geometry": { "type": "Point", "coordinates": [ -92.95886, 45.057759 ] } },
{ "type": "Feature", "properties": { "Place": "MILACA WOLVES ARCHERY , MILACA, MN, UNITED STATES", "Lat": 45.742537, "Lon": -93.503429 }, "geometry": { "type": "Point", "coordinates": [ -93.503429, 45.742537 ] } },
{ "type": "Feature", "properties": { "Place": "MINNETONKA COMMUNITY EDUCATION , EXCELSIOR, MN, UNITED STATES", "Lat": 44.92783, "Lon": -93.399367 }, "geometry": { "type": "Point", "coordinates": [ -93.399367, 44.92783 ] } },
{ "type": "Feature", "properties": { "Place": "NEW PRAGUE FALCON RIDGE ELEMENTARY , NEW PRAGUE, MN, UNITED STATES", "Lat": 44.536713, "Lon": -93.55598 }, "geometry": { "type": "Point", "coordinates": [ -93.55598, 44.536713 ] } },
{ "type": "Feature", "properties": { "Place": "NEW PRAGUE HIGH SCHOOL , NEW PRAGUE, MN, UNITED STATES", "Lat": 44.5597169, "Lon": -93.57631824 }, "geometry": { "type": "Point", "coordinates": [ -93.57631824, 44.5597169 ] } },
{ "type": "Feature", "properties": { "Place": "NEW PRAGUE MIDDLE SCHOOL , NEW PRAGUE, MN, UNITED STATES", "Lat": 44.5500777, "Lon": -93.57574749 }, "geometry": { "type": "Point", "coordinates": [ -93.57574749, 44.5500777 ] } },
{ "type": "Feature", "properties": { "Place": "O.H. ANDERSON , MAHTOMEDI, MN, UNITED STATES", "Lat": 45.110485, "Lon": -93.051217 }, "geometry": { "type": "Point", "coordinates": [ -93.051217, 45.110485 ] } },
{ "type": "Feature", "properties": { "Place": "ONEKA ELEMENTARY , HUGO, MN, UNITED STATES", "Lat": 45.182366, "Lon": -92.945218 }, "geometry": { "type": "Point", "coordinates": [ -92.945218, 45.182366 ] } },
{ "type": "Feature", "properties": { "Place": "OPEN WORLD LEARNING COMMUNITY , ST. PAUL, MN, UNITED STATES", "Lat": 47.162129, "Lon": -93.137469 }, "geometry": { "type": "Point", "coordinates": [ -93.137469, 47.162129 ] } },
{ "type": "Feature", "properties": { "Place": "OTTER LAKE ELEMENTARY , WHITE BEAR LAKE, MN, UNITED STATES", "Lat": 45.132135, "Lon": -93.037842 }, "geometry": { "type": "Point", "coordinates": [ -93.037842, 45.132135 ] } },
{ "type": "Feature", "properties": { "Place": "PRINCETON HIGH SCHOOL , PRINCETON, MN, UNITED STATES", "Lat": 41.3743227, "Lon": -89.45895048 }, "geometry": { "type": "Point", "coordinates": [ -89.45895048, 41.3743227 ] } },
{ "type": "Feature", "properties": { "Place": "PRINCETON INTERMEDIATE SCHOOL , PRINCETON, MN, UNITED STATES", "Lat": 44.775379, "Lon": -93.517684 }, "geometry": { "type": "Point", "coordinates": [ -93.517684, 44.775379 ] } },
{ "type": "Feature", "properties": { "Place": "PRINCETON MIDDLE SCHOOL , PRINCETON, MN, UNITED STATES", "Lat": 45.58523825, "Lon": -93.57465109 }, "geometry": { "type": "Point", "coordinates": [ -93.57465109, 45.58523825 ] } },
{ "type": "Feature", "properties": { "Place": "SPECTRUM HIGH SCHOOL , ELK RIVER, MN, UNITED STATES", "Lat": 45.311803, "Lon": -93.557985 }, "geometry": { "type": "Point", "coordinates": [ -93.557985, 45.311803 ] } },
{ "type": "Feature", "properties": { "Place": "SPRINGVALE ACADEMY HOMESCHOOL , CAMBRIDGE, MN, UNITED STATES", "Lat": 45.093215, "Lon": -93.228248 }, "geometry": { "type": "Point", "coordinates": [ -93.228248, 45.093215 ] } },
{ "type": "Feature", "properties": { "Place": "ST CROIX PREPARATORY ACADEMY , STILLWATER, MN, UNITED STATES", "Lat": 45.06698, "Lon": -92.810302 }, "geometry": { "type": "Point", "coordinates": [ -92.810302, 45.06698 ] } },
{ "type": "Feature", "properties": { "Place": "ST. ELIZABETH ANN SETON SCHOOL , HASTINGS, MN, UNITED STATES", "Lat": 43.513729, "Lon": -96.263229 }, "geometry": { "type": "Point", "coordinates": [ -96.263229, 43.513729 ] } },
{ "type": "Feature", "properties": { "Place": "SUNRISE MIDDLE SCHOOL , WHITE BEAR LAKE, MN, UNITED STATES", "Lat": 45.047578, "Lon": -93.020462 }, "geometry": { "type": "Point", "coordinates": [ -93.020462, 45.047578 ] } },
{ "type": "Feature", "properties": { "Place": "WATERTOWN,MAYER HIGH SCHOOL , WATERTOWN, MN, UNITED STATES", "Lat": 44.959239, "Lon": -93.854649 }, "geometry": { "type": "Point", "coordinates": [ -93.854649, 44.959239 ] } },
{ "type": "Feature", "properties": { "Place": "WESTONKA ELEMENTARY , MINNETRISTA, MN, UNITED STATES", "Lat": 44.938296, "Lon": -93.717741 }, "geometry": { "type": "Point", "coordinates": [ -93.717741, 44.938296 ] } },
{ "type": "Feature", "properties": { "Place": "WESTONKA HIGH SCHOOL , MOUND, MN, UNITED STATES", "Lat": 44.939319, "Lon": -93.66912 }, "geometry": { "type": "Point", "coordinates": [ -93.66912, 44.939319 ] } },
{ "type": "Feature", "properties": { "Place": "WESTONKA MIDDLE SCHOOL , MOUND, MN, UNITED STATES", "Lat": 44.939319, "Lon": -93.66912 }, "geometry": { "type": "Point", "coordinates": [ -93.66912, 44.939319 ] } },
{ "type": "Feature", "properties": { "Place": "WHITE BEAR LAKE AREA HIGH SCHOOL , WHITE BEAR LAKE, MN, UNITED STATES", "Lat": 45.035782, "Lon": -93.017597 }, "geometry": { "type": "Point", "coordinates": [ -93.017597, 45.035782 ] } },
{ "type": "Feature", "properties": { "Place": "WILLOW LANE ELEMENTARY , WHITE BEAR LAKE, MN, UNITED STATES", "Lat": 45.05121, "Lon": -93.026601 }, "geometry": { "type": "Point", "coordinates": [ -93.026601, 45.05121 ] } },
{ "type": "Feature", "properties": { "Place": "ZIMMERMAN MSHS , ZIMMERMAN, MN, UNITED STATES", "Lat": 45.467503, "Lon": -93.602475 }, "geometry": { "type": "Point", "coordinates": [ -93.602475, 45.467503 ] } }
]
}

    
    
    //add the points to the map
    var schoolpoints = L.geoJSON(schoolsdata, {
      pointToLayer: function (feature, latlng){
        //references the custom icon defined above
        return L.marker(latlng, {icon: myIcon});
      }, 
      onEachFeature: function (feature, layer){
        //set the popup content
        layer.bindPopup("<b>School: </b><br>"+feature.properties.Place)
      }  
    }).addTo(map); //add points to the map
    
    /*~~~~~~ Legend ~~~~~~~*/
    var legend = L.control({position: 'bottomright'});
    
    legend.onAdd = function (map) {
      var div = L.DomUtil.create('div', 'info legend');
      // <i> tags are the color swatches. 
      div.innerHTML = '<b>Wi5 Connect Predicted Reception</b><br> <i style="background: #99ff66"></i>probable reception<br><i style="background: orange"></i>possible reception';
      return div;
    };

    legend.addTo(map);

  </script>
  
</body>
</html>
